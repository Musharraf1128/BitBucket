spring:
  application:
    name: BitBucket

  datasource:
    url: jdbc:postgresql://${DB_HOST:localhost}:5432/filestorage_db
    username: ${DB_USER:postgres}
    password: ${DB_PASSWORD:postgres}
    driver-class-name: org.postgresql.Driver

  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true

  # File Upload Configuration
  servlet:
    multipart:
      enabled: true
      max-file-size: 100MB
      max-request-size: 100MB

  # Redis Cache Configuration
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: 6379
      password: ${REDIS_PASSWORD:}
      timeout: 60000

  cache:
    type: ${CACHE_TYPE:none}
    redis:
      time-to-live: 600000 # 10 minutes

  # Email Configuration
  mail:
    host: ${MAIL_HOST:smtp.gmail.com}
    port: ${MAIL_PORT:587}
    username: ${MAIL_USERNAME:your-email@gmail.com}
    password: ${MAIL_PASSWORD:your-app-password}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
        transport:
          protocol: smtp

server:
  port: 8080

# JWT Configuration
jwt:
  secret: ${YnpridNmRsM/BblbgxB+pUbn5eGik87nypBT73eK8fTlMifJKP53sTLHIbhcCw2TxKofdwCe5rclYqCVPJyHVQ==}
  expiration: 3600000 # 1 hour (ms)

# File Storage Configuration
file:
  upload-dir: ${FILE_UPLOAD_DIR:/app/uploads}
  max-size: 104857600 # 100MB in bytes

# Swagger/OpenAPI Configuration
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
